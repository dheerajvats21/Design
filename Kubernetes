1. https://www.youtube.com/watch?v=B_X4l4HSgtc - pos container

2. https://www.youtube.com/watch?v=klxZke9qbvg - planes and arcitecture

3. EKS - https://www.youtube.com/watch?v=CukYk43agA4&t=49s


                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                      â”‚   kubectl /   â”‚
                      â”‚  API Clients  â”‚
                      â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                     â”‚   API Server      â”‚   (Control Plane)
                     â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚     â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â–¼                                      â–¼
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚     etcd      â”‚                      â”‚   Scheduler   â”‚
 â”‚ (Cluster DB)  â”‚                      â”‚  (assigns)    â”‚
 â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                      â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                                      â”‚
         â–¼                                      â–¼
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚ Controller    â”‚                      â”‚  Node / Data  â”‚
 â”‚ Manager       â”‚                      â”‚   Plane       â”‚
 â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚                 Data Plane (Worker Nodes)          â”‚
 â”‚                                                    â”‚
 â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
 â”‚   â”‚  Kubelet â”‚ â†’  â”‚ Container    â”‚ â†â†’ â”‚ Runtime â”‚ â”‚
 â”‚   â”‚  (agent) â”‚    â”‚ (Pod Mgmt)   â”‚    â”‚ (CRI)   â”‚ â”‚
 â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
 â”‚          â”‚                                        â”‚
 â”‚          â–¼                                        â”‚
 â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                  â”‚
 â”‚     â”‚ Kube-proxyâ”‚ â†â”€â”€ Service Networking â”€â”€â”€â”€â”€â”€â†’  â”‚
 â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                  â”‚
 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


Once we have pods (groups of containers running together), we need a system that ensures:

They get scheduled onto some node.

They can be reached via networking.

They scale, recover, and stay consistent.

This is where Kubernetesâ€™ planes come in.

ğŸ”¹ 1. Control Plane

The control plane is the â€œbrainâ€ of Kubernetes. It manages the overall cluster state. Think of it as the management layer.

Key Components:

API Server (kube-apiserver)

Acts as the front door of Kubernetes.

Every request (from kubectl, controllers, nodes) goes through it.

Validates & authenticates requests, updates cluster state in etcd.

etcd

A distributed key-value store.

Stores all cluster state (pods, deployments, configs, secrets).

Highly available, consistent database â†’ critical for Kubernetes.

Controller Manager

Runs various controllers (loops) that watch actual state vs desired state.

Example: Deployment controller ensures the number of pods = replicas you asked for.

If a pod dies, controller spins up a replacement.

Scheduler

Decides which node runs a pod.

Looks at constraints: CPU, memory, taints/tolerations, affinities.

Doesnâ€™t start pods itself â€” just binds pods to nodes.

Cloud Controller Manager (in cloud setups)

Integrates Kubernetes with cloud providers (AWS, GCP, Azure).

Example: Creates a cloud load balancer if you make a LoadBalancer service.

ğŸ”¹ 2. Data Plane

The data plane lives on the worker nodes. This is where actual workloads (pods/containers) run.

Key Components:

Kubelet

Agent running on every node.

Talks to the control plane.

Ensures the containers defined in PodSpecs are actually running.

Reports node + pod status back to API server.

Kube-proxy

Handles networking/routing inside the cluster.

Implements Services (ClusterIP, NodePort, LoadBalancer) by managing IP tables / IPVS.

Ensures pods can reach each other and external clients can reach services.

Container Runtime

Runs the containers (Docker, containerd, CRI-O).

Kubernetes is runtime-agnostic as long as it supports the CRI (Container Runtime Interface).

ğŸ”¹ 3. Planes in Action (Flow Example)

Letâ€™s say you apply a Deployment for 3 replicas of an app:

kubectl apply -f deploy.yaml â†’ goes to API Server.

API Server writes desired state into etcd.

Controller Manager sees: â€œDeployment needs 3 pods, but none exist.â€ â†’ creates 3 Pod objects.

Scheduler picks nodes for those pods based on resources.

Kubelet on each chosen node sees â€œI need to run this podâ€ â†’ pulls container image, starts it via container runtime.

Kube-proxy ensures networking â†’ pod gets a cluster IP, can talk to others.

If one pod dies, controller notices, asks for a new one â†’ Scheduler assigns, Kubelet runs it.

Thatâ€™s how the control plane manages state, and the data plane executes it.

ğŸ”¹ 4. Interview Insights

If control plane goes down â†’ cluster state canâ€™t change (no new pods, no scaling), but existing workloads keep running.

If data plane node goes down â†’ pods there are lost. Controller reschedules them on healthy nodes.

Separation of planes = resilience + scalability.

âœ… Summary in one line:
The control plane is the brain (decides desired state, schedules, stores state), while the data plane is the body (

